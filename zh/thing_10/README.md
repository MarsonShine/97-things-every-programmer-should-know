# 谨慎选择工具

现代应用程序很少是从零开始构建的。它们是利用现有的工具（组件、库和框架）组装而成的，原因有很多：

- 应用程序的规模、复杂性和先进性不断增加，而开发时间却越来越短。如果开发人员能集中精力编写更多的业务领域代码，减少基础架构代码，就能更好地利用他们的时间和智慧。

- 与内部开发的组件和框架相比，广泛使用的组件和框架可能会出现更少的错误。

- 网络上有大量免费的高质量软件，这意味着开发成本更低，也更有可能找到具有必要兴趣和专业知识的开发人员。

- 软件生产和维护是一项人力密集型工作，因此购买可能比自研更划算。

然而，为自己的应用程序选择合适的工具组合可能是一件棘手的事情，需要经过深思熟虑。事实上，在做出选择时，有几件事你应该牢记在心：

- 不同的工具可能依赖于对其上下文的不同假设，如周围的基础设施、控制模型、数据模型、通信协议等，这可能导致应用程序和工具之间的架构不匹配。这种不匹配会导致黑客攻击和变通方法，使代码变得比必要的还要复杂。

- 不同的工具有不同的生命周期，升级其中一个工具可能会成为一项极其困难和耗时的任务，因为新功能、设计变更甚至错误修复都可能导致与其他工具不兼容。工具数量越多，问题就越严重。

- 有些工具需要进行大量配置，通常是通过一个或多个 XML 文件进行配置，而这些配置可能很快就会失控。应用程序最终可能看起来就像全部用 XML 和某种编程语言编写的几行代码。配置的复杂性会使应用程序难以维护和扩展。

- 当代码在很大程度上依赖于特定供应商的产品时，就会在可维护性、性能、发展能力、价格等方面受到供应商的限制。

- 如果你打算使用免费软件，你可能会发现它并不那么免费。你可能需要购买商业支持，而这并不一定便宜。

- 即使是免费软件，许可条款也很重要。例如，在某些公司，使用 GNU 许可条款下的软件是不可接受的，因为它具有病毒传染性，也就是说，用 GNU 许可条款开发的软件必须与源代码一起发布。

我个人缓解这些问题的策略是从小处入手，只使用绝对必要的工具。通常，最初的重点是消除对底层基础设施编程（和问题）的需求，例如，通过使用一些中间件而不是为分布式应用程序使用原始套接字。如果需要，还可以添加更多。我还倾向于通过接口和分层将外部工具与我的业务领域对象隔离开来，这样我就可以在必要时更换工具，而只需承受很小的痛苦。这种方法的一个积极副作用是，我的应用程序最终通常会比原先预计的要小，使用的外部工具也会比原先预计的要少。

作者：[Giovanni Asproni](http://programmer.97things.oreilly.com/wiki/index.php/Giovanni_Asproni)

