# 不要触碰代码！

我们每个人都曾遇到过这种情况。你的代码已经滚动到暂存服务器上进行系统测试，测试经理回信说她遇到了一个问题。你的第一反应是“快，让我来解决——我知道哪里出了问题”。

但从更大的意义上说，问题在于作为开发人员，你认为自己应该有访问暂存服务器的权限。

在大多数基于网络的开发环境中，架构可以这样分解：

- 在开发人员的机器上进行本地开发和单元测试
- 在开发服务器上进行手动或自动集成测试
- 质量保证团队和用户进行验收测试的暂存服务器
- 生产服务器

是的，还有其他服务器和服务，比如源代码控制和问题跟踪系统，但你已经明白了基本思想。按照这个模型，开发人员——甚至是高级开发人员——不应该拥有超越开发服务器的访问权限。大部分开发工作是在开发人员本地的计算机上完成的，他们使用自己喜欢的集成开发环境（IDE）、虚拟机，并可能加入适量的黑魔法，为项目加点好运。

一旦检查到 SCC，无论是自动还是手动，都应将其转到开发服务器，在那里进行测试，并在必要时进行调整，以确保一切正常。但从这一点来看，开发人员只是整个过程的旁观者。

在项目中，部署管理员应该将代码打包并部署到供质量保障团队使用的上线服务器上。就像开发人员无需访问开发服务器之外的任何内容一样，质量保障团队和用户也无需在开发服务器上操作任何东西。如果准备好进行验收测试，就进行版本发布和部署，不要要求用户在开发服务器上“快速查看一下”。请记住，除非你是在独自编写项目代码，否则其他人也在开发服务器上编写代码，他们可能还没有准备好让用户看到。只有部署管理员可以同时访问这两个环境。

在任何情况下，开发人员绝对不能访问生产服务器。如果出现问题，你的支持人员应该要么修复问题，要么请求你进行修复。当代码提交到版本控制系统后，他们会从那里生成一个补丁。我参与过的一些最严重的编程灾难就是因为某人违反了这个规则。如果出了问题，绝对不能在生产环境中修复。

作者：[Cal Evans](http://programmer.97things.oreilly.com/wiki/index.php/Cal_Evans)

