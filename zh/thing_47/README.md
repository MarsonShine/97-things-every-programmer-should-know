# 了解你的下一次提交

我拍了拍三个程序员的肩膀，问他们在做什么。第一个回答说：”我在重构这些方法“。第二个回答说：“我在给这个网络操作添加一些参数”。第三个人回答：”我在编写这个用户故事“。

看起来，前两个人都沉浸在工作的细节中，只有第三个人能看到大局，而且后者的注意力更集中。然而，当我问到他们什么时候会投入什么工作时，情况发生了巨大的变化。前两名程序员非常清楚会涉及哪些文件，并会在一小时左右完成。第三个程序员回答说："哦，我想我会在几天内准备好。我可能会增加一些类，也可能会以某种方式改变这些服务"。

前两位程序员对总体目标并不缺乏远见。他们选择了自己认为有成效的任务，并且可以在几个小时内完成。完成这些任务后，他们会选择一个新功能或重构工作。因此，所有编写的代码都有明确的目的和有限的、可实现的目标。

而第三位程序员则未能将问题分解，而是同时处理所有方面的问题。他不知道要花费多少时间，基本上是在进行投机性编程，希望能在某一时刻提交代码。很有可能，在这个漫长的过程中，一开始编写的代码与最终的解决方案并不匹配。

如果任务耗时超过两个小时，前两个程序员会怎么做呢？在意识到自己承担了太多任务后，他们很可能会放弃修改，定义更小的任务，然后重新开始。如果继续工作，就会缺乏专注力，导致投机代码进入代码库。相反，改动会被丢弃，但见解会被保留。

第三个程序员可能会继续猜测，并拼命尝试将自己的改动拼凑成可以提交的东西。毕竟，你不能扔掉自己修改的代码--那不是白费力气吗？不幸的是，不扔掉代码会导致一些缺乏明确目的的略显古怪的代码进入版本库。

在某些时候，即使是专注于提交的程序员也可能找不到他们认为可以在两小时内完成的有用的东西。然后，他们就会直接进入投机模式，玩弄代码，当然，每当一些洞察力让他们回到正轨时，他们就会扔掉这些改动。即使是这些看似无序的黑客会话也是有目的的：了解代码，以便能够定义一个任务，使其成为富有成效的步骤。

了解你的下一次提交。如果你无法完成，就放弃你的修改，然后利用你获得的洞察力定义一个你相信的新任务。必要时进行投机性实验，但不要让自己不知不觉地陷入投机模式。不要将猜测提交到版本库中。

作者：[Dan Bergh Johnsson](http://programmer.97things.oreilly.com/wiki/index.php/Dan_Bergh_Johnsson)