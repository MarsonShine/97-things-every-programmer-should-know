# 大型的交错数据属于数据库

如果您的应用程序要处理大量、持久、相互关联的数据元素，那么请毫不犹豫地将其存储在关系数据库中。过去，关系数据库管理系统是昂贵、稀缺、复杂和笨重的怪兽。现在情况已经不同了。现在，RDBMS 系统很容易找到——你正在使用的系统很可能已经安装了一两个。一些功能非常强大的 RDBMS，如 MySQL 和 PostgreSQL，都是开源软件，因此购买成本不再是问题。更妙的是，所谓的嵌入式数据库系统可以作为库直接链接到你的应用程序中，几乎不需要任何设置或管理，其中两个著名的开源数据库系统是 SQLite 和 HSQLDB。这些系统非常高效。

如果应用程序的数据大于系统的 RAM，索引式 RDBMS 表的运行速度会比库的映射集合类型快很多，后者会大量占用虚拟内存页。现代数据库产品可以轻松满足您的需求。通过适当的管理，您可以在需要时将嵌入式数据库升级到更大的数据库系统。之后，您可以从免费的开放源码产品切换到支持更好或功能更强大的专有系统。

一旦掌握了 SQL 的诀窍，编写以数据库为中心的应用程序就是一件乐事。在数据库中存储了正确规范化的数据后，就很容易通过可读的 SQL 查询有效地提取事实；无需编写任何复杂的代码。同样，一条 SQL 命令就能执行复杂的数据更改。对于一次性的修改，例如更改组织持久数据的方式，甚至不需要编写代码：只需启动数据库的直接 SQL 接口即可。这个接口还允许您试验查询，从而避免了常规编程语言的编译-编辑周期。

以 RDBMS 为基础编写代码的另一个优势是可以处理数据元素之间的关系。您可以用声明的方式描述数据的一致性约束，避免了在边缘情况下忘记更新数据而产生的悬空指针风险。例如，您可以指定如果用户被删除，那么该用户发送的消息也应删除。

您还可以随时在数据库中存储的实体之间创建有效的链接，只需创建一个索引即可。无需对类字段进行昂贵而广泛的重构。此外，围绕数据库进行编码允许多个应用程序以安全的方式访问您的数据。这样，您就可以轻松升级应用程序以实现并发使用，还可以使用最合适的语言和平台对应用程序的每个部分进行编码。例如，您可以使用 Java 编写基于 Web 的应用程序的 XML 后端，使用 Ruby 编写一些审计脚本，使用 [Processing](http://www.processing.org/) 编写可视化界面。

最后，请记住，RDBMS 会不遗余力地优化您的 SQL 命令，让您专注于应用程序的功能而不是算法调整。高级数据库系统甚至会背着你利用多核处理器。而且，随着技术的进步，你的应用程序性能也会不断提高。

作者：[Diomidis Spinellis](http://programmer.97things.oreilly.com/wiki/index.php/Diomidis_Spinellis)