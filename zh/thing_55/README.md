# 使界面易于正确使用，不易错误使用

界面规范是软件开发中最常见的任务之一。接口出现在最高的抽象层次（用户接口）、最低的抽象层次（函数接口）以及介于两者之间的层次（类接口、库接口等）。无论您是与最终用户合作以指定他们与系统的交互方式，还是与开发人员合作以指定应用程序接口，或者为类声明私有函数，界面设计都是您工作的重要组成部分。如果你做得好，你的界面使用起来就会很愉快，并能提高他人的工作效率。如果你做得不好，你的界面就会成为令人沮丧和错误的根源。

好的界面是

- **易于正确使用。**使用精心设计的界面的人几乎总是能正确地使用界面，因为这是阻力最小的途径。在图形用户界面中，他们几乎总是点击正确的图标、按钮或菜单条目，因为这是显而易见且容易做到的事情。在应用程序接口中，他们几乎总是用正确的值传递正确的参数，因为这是最自然不过的事。对于易于正确使用的接口，**事情就能顺利进行**。
- 好的界面能预见到人们可能会犯的错误，并让他们难以犯错——理想情况下是不可能犯错。例如，图形用户界面可以禁用或删除在当前上下文中毫无意义的命令，而应用程序接口则可以通过允许以任意顺序传递参数来消除参数排序问题。

设计易于正确使用的界面的一个好方法是在界面出现之前对其进行演练。模拟图形用户界面——可能是在白板上，也可能是在桌子上使用索引卡片——并在创建任何底层代码之前对其进行练习。在函数声明之前编写对应用程序接口的调用。浏览常见的使用案例，明确你*希望*界面如何运行。你*希望*能够点击什么？你*希望*能够传递什么？易于使用的界面看起来很自然，因为它们能让你做你想做的事。如果从用户的角度开发界面，就更有可能开发出这样的界面。(这种观点是测试优先编程的优势之一）。

要使界面难以被错误使用，需要做到两点。首先，你必须预测用户可能会犯的错误，并想办法防止它们发生。其次，你必须观察接口在早期发布时是如何被误用的，然后修改接口——是的，修改接口！以防止此类错误。防止错误使用的最好办法就是让用户无法使用。如果用户总是想撤销一个不可撤销的操作，那就尽量使该操作可撤销。如果用户总是向应用程序接口传递错误的值，那么请尽力修改应用程序接口，使其接受用户想要传递的值。

最重要的是，请记住接口的存在是为了方便用户，而不是方便实现者。

作者：[Scott Meyers](http://programmer.97things.oreilly.com/wiki/index.php/Scott_Meyers)