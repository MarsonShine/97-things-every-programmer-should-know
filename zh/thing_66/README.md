# 防止错误

错误信息是用户与系统其他部分之间最关键的交互。当用户和系统之间的交流接近崩溃点时，就会出现错误信息。

人们很容易认为错误是由用户的错误输入造成的。但是，人们犯错误的方式是可预测的、系统化的。因此，我们可以“调试”用户与系统其他部分之间的通信，就像调试其他系统组件一样。

例如，你希望用户在允许的范围内输入一个日期。与其让用户输入任何日期，还不如提供一个设备，如只显示允许日期的列表或日历。这样可以避免用户输入范围之外的日期。

格式错误是另一个常见问题。例如，如果用户在“日期”文本字段中输入了“2012 年 7 月 29 日”这样一个明确的日期，那么仅仅因为它不是首选格式（如“日/月/年”）就拒绝接受是不合理的。更糟糕的是，如果因为“29 / 07 / 2012”包含额外的空格而将其拒之门外--这种问题对于用户来说尤其难以理解，因为该日期似乎是所需的格式。

出现这种错误的原因是，剔除日期比解析三、四种最常见的日期格式更容易。这类小错误会让用户感到沮丧，进而由于用户注意力不集中而导致更多错误。相反，应尊重用户输入信息而非数据的偏好。

避免格式错误的另一种方法是提供提示--例如，在字段中标注所需的格式（“日/月/年”）。另一种提示可能是将字段分为三个文本框，分别包含两个、两个和四个字符。

提示与说明不同：提示往往是提示性的，而说明则是冗长的。提示出现在交互点上；指令出现在交互点之前。提示提供语境；指令规定使用。

一般来说，指令不能有效地防止错误。用户倾向于认为界面会根据他们过去的经验运行（“每个人肯定都知道‘2012 年 7 月 29 日’是什么意思？”） 因此，说明就没人看了。提示可提醒用户避免出错。

避免错误的另一种方法是提供默认值。例如，用户通常会输入与*今天*、*明天*、*我的生日*、*我的截止日期*或*我上次使用此表单时输入的日期*相对应的值。根据具体情况，其中一个可能是智能默认值的不错选择。

无论原因是什么，系统都应该容忍错误。要做到这一点，可以为所有操作提供多级*undo*，尤其是有可能破坏或修改用户数据的操作。

记录和分析"*undo*"操作还可以突出显示界面在哪些方面会导致用户无意识地出错，例如持续点击“错误”按钮。这些错误通常是由误导性提示或交互顺序造成的，您可以重新设计这些提示或顺序，以防止进一步的错误。

无论采取哪种方法，大多数错误都是系统性的--是用户和软件之间误解的结果。了解用户是如何思考、解释信息、做出决策和输入数据的，将有助于您调试软件与用户之间的交互。

作者：[Giles Colborne](http://programmer.97things.oreilly.com/wiki/index.php/Giles_Colborne)