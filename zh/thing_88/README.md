# Unix 工具是你的朋友

如果在流放荒岛的途中，我必须在集成开发环境和 Unix 工具箱之间做出选择，我会毫不犹豫地选择 Unix 工具箱。以下是你应该精通 Unix 工具的原因。

首先，集成开发环境针对特定的语言，而 Unix 工具可以处理任何以文本形式出现的内容。在当今的开发环境中，每年都有新的语言和符号涌现，学习使用 Unix 的工作方式是一项投资，它将为您带来一次又一次的回报。

此外，集成开发环境只提供开发人员所设想的命令，而使用 Unix 工具，你可以执行任何你能想象到的任务。把它们想象成（经典的“仿生学”之前的）乐高积木：你只需将小巧但用途广泛的 Unix 工具组合起来，就能创建自己的命令。例如，下面的序列是 Cunningham 签名分析的文本实现--每个文件的分号、大括号和引号序列，可以揭示文件内容的很多信息。

```
for i in *.java; do 
    echo -n "$i: "
    sed 's/[^"{};]//g' $i | tr -d '\n'
    echo
done
```

此外，你所学习的每个集成开发环境操作都是针对特定任务的；例如，在项目的调试构建配置中添加一个新步骤。相比之下，提高 Unix 工具技能能让你在任何任务中都更有效率。举个例子，我在前面的命令序列中使用了 sed 工具来修改项目的构建，以便在多种处理器架构上进行交叉编译。

Unix 工具是在多用户计算机只有 128KB 内存的时代开发的。如今，这些工具在设计上的独创性意味着它们可以极其高效地处理庞大的数据集。大多数工具像过滤器一样工作，每次只处理一行，这意味着它们能处理的数据量没有上限。你想搜索存储在半个 TB 的英文维基百科转储中的编辑次数？只需调用

```
grep '<revision>' | wc -l 
```

就能毫不费力地找到答案。如果你发现某个命令序列非常有用，你可以使用一些独特而强大的编程结构，如将数据管道化到循环和条件中，轻松地将其打包成 shell 脚本。更令人印象深刻的是，以管道方式执行的 Unix 命令（如前面的命令）会在现代多核 CPU 的多个处理单元之间自然分配负载。

Unix工具以小见大的特性和开放源代码的实现方式，使得这些工具无处不在，即使在资源有限的平台上也是如此，比如我的机顶媒体播放器或DSL路由器。这些设备不太可能提供功能强大的图形用户界面，但它们通常包含 BusyBox 应用程序，该程序提供了最常用的工具。如果你在 Windows 上进行开发，Cygwin 环境可以为你提供所有能想到的 Unix 工具，既有可执行文件，也有源代码。

最后，如果现有工具都无法满足你的需求，那么扩展 Unix 工具的世界也非常容易。只需用你喜欢的任何语言编写一个程序，并遵守一些简单的规则即可： 程序应只执行一项任务；应从标准输入中读取文本行数据；应在标准输出中显示其结果，而不加标头和其他杂音。影响工具运行的参数在命令行中给出。遵循这些规则，“地球和地球上的一切都属于你”。

作者：[Diomidis Spinellis](http://programmer.97things.oreilly.com/wiki/index.php/Diomidis_Spinellis)